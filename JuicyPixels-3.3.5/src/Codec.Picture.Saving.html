<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- | Helper functions to save dynamic images to other file format</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- with automatic color space/sample format conversion done automatically.</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Codec.Picture.Saving</span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier">imageToJpg</span></a></span><span>
</span><span id="line-6"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier">imageToPng</span></a></span><span>
</span><span id="line-7"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier">imageToGif</span></a></span><span>
</span><span id="line-8"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier">imageToBitmap</span></a></span><span>
</span><span id="line-9"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier">imageToTiff</span></a></span><span>
</span><span id="line-10"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier">imageToRadiance</span></a></span><span>
</span><span id="line-11"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier">imageToTga</span></a></span><span>
</span><span id="line-12"></span><span>                           </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#if !MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">mempty</span><span> </span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">unsafeShiftR</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Word8</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word32</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html"><span class="hs-identifier">Codec.Picture.Bitmap</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html"><span class="hs-identifier">Codec.Picture.Jpg</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Png.html"><span class="hs-identifier">Codec.Picture.Png</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html"><span class="hs-identifier">Codec.Picture.Gif</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.ColorQuant.html"><span class="hs-identifier">Codec.Picture.ColorQuant</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html"><span class="hs-identifier">Codec.Picture.HDR</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html"><span class="hs-identifier">Codec.Picture.Types</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html"><span class="hs-identifier">Codec.Picture.Tiff</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html"><span class="hs-identifier">Codec.Picture.Tga</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="annot"><a href="Codec.Picture.Saving.html#componentToLDR"><span class="hs-identifier hs-type">componentToLDR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-34"></span><span id="componentToLDR"><span class="annot"><span class="annottext">componentToLDR :: Float -&gt; Word8
</span><a href="Codec.Picture.Saving.html#componentToLDR"><span class="hs-identifier hs-var hs-var">componentToLDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Word8
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="annot"><span class="annottext">(Float -&gt; Word8) -&gt; (Float -&gt; Float) -&gt; Float -&gt; Word8
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">255</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Float -&gt; Float) -&gt; (Float -&gt; Float) -&gt; Float -&gt; Float
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">1.0</span></span><span> </span><span class="annot"><span class="annottext">(Float -&gt; Float) -&gt; (Float -&gt; Float) -&gt; Float -&gt; Float
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">0.0</span></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="annot"><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-type">toStandardDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-type">PixelRGBF</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span>
</span><span id="line-37"></span><span id="toStandardDef"><span class="annot"><span class="annottext">toStandardDef :: Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var hs-var">toStandardDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PixelRGBF -&gt; PixelRGB8) -&gt; Image PixelRGBF -&gt; Image PixelRGB8
forall a b. (Pixel a, Pixel b) =&gt; (a -&gt; b) -&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier hs-var">pixelMap</span></a></span><span> </span><span class="annot"><span class="annottext">PixelRGBF -&gt; PixelRGB8
</span><a href="#local-6989586621679171371"><span class="hs-identifier hs-var">pixelConverter</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171371"><span class="annot"><span class="annottext">pixelConverter :: PixelRGBF -&gt; PixelRGB8
</span><a href="#local-6989586621679171371"><span class="hs-identifier hs-var hs-var">pixelConverter</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-type">PixelRGBF</span></a></span><span> </span><span id="local-6989586621679171369"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171369"><span class="hs-identifier hs-var">rf</span></a></span></span><span> </span><span id="local-6989586621679171368"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171368"><span class="hs-identifier hs-var">gf</span></a></span></span><span> </span><span id="local-6989586621679171367"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171367"><span class="hs-identifier hs-var">bf</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Word8 -&gt; PixelRGB8
</span><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-var">PixelRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679171365"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679171364"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679171363"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-39"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171365"><span class="annot"><span class="annottext">r :: Word8
</span><a href="#local-6989586621679171365"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Word8
</span><a href="Codec.Picture.Saving.html#componentToLDR"><span class="hs-identifier hs-var">componentToLDR</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171369"><span class="hs-identifier hs-var">rf</span></a></span><span>
</span><span id="line-40"></span><span>                </span><span id="local-6989586621679171364"><span class="annot"><span class="annottext">g :: Word8
</span><a href="#local-6989586621679171364"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Word8
</span><a href="Codec.Picture.Saving.html#componentToLDR"><span class="hs-identifier hs-var">componentToLDR</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171368"><span class="hs-identifier hs-var">gf</span></a></span><span>
</span><span id="line-41"></span><span>                </span><span id="local-6989586621679171363"><span class="annot"><span class="annottext">b :: Word8
</span><a href="#local-6989586621679171363"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Word8
</span><a href="Codec.Picture.Saving.html#componentToLDR"><span class="hs-identifier hs-var">componentToLDR</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171367"><span class="hs-identifier hs-var">bf</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="annot"><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-type">greyScaleToStandardDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelF"><span class="hs-identifier hs-type">PixelF</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span>
</span><span id="line-44"></span><span id="greyScaleToStandardDef"><span class="annot"><span class="annottext">greyScaleToStandardDef :: Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var hs-var">greyScaleToStandardDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Float -&gt; Word8) -&gt; Image Float -&gt; Image Word8
forall a b. (Pixel a, Pixel b) =&gt; (a -&gt; b) -&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier hs-var">pixelMap</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Word8
</span><a href="Codec.Picture.Saving.html#componentToLDR"><span class="hs-identifier hs-var">componentToLDR</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span id="local-6989586621679171404"><span id="local-6989586621679171405"><span class="annot"><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-type">from16to8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171405"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>
</span><span id="line-47"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171404"><span class="hs-identifier hs-type">dest</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171405"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171404"><span class="hs-identifier hs-type">dest</span></a></span></span></span><span>
</span><span id="line-49"></span><span id="from16to8"><span class="annot"><span class="annottext">from16to8 :: Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var hs-var">from16to8</span></a></span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">imageWidth :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageWidth"><span class="hs-identifier hs-var">imageWidth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171356"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171356"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageHeight :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageHeight"><span class="hs-identifier hs-var">imageHeight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171354"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171354"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-50"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageData :: forall a. Image a -&gt; Vector (PixelBaseComponent a)
</span><a href="Codec.Picture.Types.html#imageData"><span class="hs-identifier hs-var">imageData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171352"><span class="annot"><span class="annottext">Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171352"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Vector (PixelBaseComponent dest) -&gt; Image dest
forall a. Int -&gt; Int -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171356"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171354"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word8
Vector (PixelBaseComponent dest)
</span><a href="#local-6989586621679171351"><span class="hs-identifier hs-var">transformed</span></a></span><span>
</span><span id="line-51"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171351"><span class="annot"><span class="annottext">transformed :: Vector Word8
</span><a href="#local-6989586621679171351"><span class="hs-identifier hs-var hs-var">transformed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; Word8) -&gt; Vector Word16 -&gt; Vector Word8
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">V.map</span></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Word8
forall a b. (Integral a, Bits a, Num b) =&gt; a -&gt; b
</span><a href="#local-6989586621679171349"><span class="hs-identifier hs-var">toWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word16
Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171352"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-52"></span><span>         </span><span id="local-6989586621679171349"><span class="annot"><span class="annottext">toWord8 :: a -&gt; b
</span><a href="#local-6989586621679171349"><span class="hs-identifier hs-var hs-var">toWord8</span></a></span></span><span> </span><span id="local-6989586621679171348"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171348"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171348"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`unsafeShiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span id="local-6989586621679171402"><span id="local-6989586621679171403"><span class="annot"><a href="Codec.Picture.Saving.html#from32to8"><span class="hs-identifier hs-type">from32to8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171403"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-55"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171402"><span class="hs-identifier hs-type">dest</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171403"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171402"><span class="hs-identifier hs-type">dest</span></a></span></span></span><span>
</span><span id="line-57"></span><span id="from32to8"><span class="annot"><span class="annottext">from32to8 :: Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to8"><span class="hs-identifier hs-var hs-var">from32to8</span></a></span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">imageWidth :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageWidth"><span class="hs-identifier hs-var">imageWidth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171346"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171346"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageHeight :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageHeight"><span class="hs-identifier hs-var">imageHeight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171345"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171345"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-58"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageData :: forall a. Image a -&gt; Vector (PixelBaseComponent a)
</span><a href="Codec.Picture.Types.html#imageData"><span class="hs-identifier hs-var">imageData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171344"><span class="annot"><span class="annottext">Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171344"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Vector (PixelBaseComponent dest) -&gt; Image dest
forall a. Int -&gt; Int -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171346"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171345"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word8
Vector (PixelBaseComponent dest)
</span><a href="#local-6989586621679171343"><span class="hs-identifier hs-var">transformed</span></a></span><span>
</span><span id="line-59"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171343"><span class="annot"><span class="annottext">transformed :: Vector Word8
</span><a href="#local-6989586621679171343"><span class="hs-identifier hs-var hs-var">transformed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Word8) -&gt; Vector Word32 -&gt; Vector Word8
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">V.map</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word8
forall a b. (Integral a, Bits a, Num b) =&gt; a -&gt; b
</span><a href="#local-6989586621679171342"><span class="hs-identifier hs-var">toWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word32
Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171344"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-60"></span><span>         </span><span id="local-6989586621679171342"><span class="annot"><span class="annottext">toWord8 :: a -&gt; b
</span><a href="#local-6989586621679171342"><span class="hs-identifier hs-var hs-var">toWord8</span></a></span></span><span> </span><span id="local-6989586621679171341"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171341"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171341"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`unsafeShiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span id="local-6989586621679171398"><span id="local-6989586621679171399"><span class="annot"><a href="Codec.Picture.Saving.html#from32to16"><span class="hs-identifier hs-type">from32to16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171399"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-63"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171398"><span class="hs-identifier hs-type">dest</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171399"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171398"><span class="hs-identifier hs-type">dest</span></a></span></span></span><span>
</span><span id="line-65"></span><span id="from32to16"><span class="annot"><span class="annottext">from32to16 :: Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to16"><span class="hs-identifier hs-var hs-var">from32to16</span></a></span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">imageWidth :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageWidth"><span class="hs-identifier hs-var">imageWidth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171339"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171339"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageHeight :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageHeight"><span class="hs-identifier hs-var">imageHeight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171338"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171338"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-66"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageData :: forall a. Image a -&gt; Vector (PixelBaseComponent a)
</span><a href="Codec.Picture.Types.html#imageData"><span class="hs-identifier hs-var">imageData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171337"><span class="annot"><span class="annottext">Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171337"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Vector (PixelBaseComponent dest) -&gt; Image dest
forall a. Int -&gt; Int -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171339"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171338"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word16
Vector (PixelBaseComponent dest)
</span><a href="#local-6989586621679171336"><span class="hs-identifier hs-var">transformed</span></a></span><span>
</span><span id="line-67"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171336"><span class="annot"><span class="annottext">transformed :: Vector Word16
</span><a href="#local-6989586621679171336"><span class="hs-identifier hs-var hs-var">transformed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Word16) -&gt; Vector Word32 -&gt; Vector Word16
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">V.map</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word16
forall a b. (Integral a, Bits a, Num b) =&gt; a -&gt; b
</span><a href="#local-6989586621679171335"><span class="hs-identifier hs-var">toWord16</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word32
Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171337"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-68"></span><span>         </span><span id="local-6989586621679171335"><span class="annot"><span class="annottext">toWord16 :: a -&gt; b
</span><a href="#local-6989586621679171335"><span class="hs-identifier hs-var hs-var">toWord16</span></a></span></span><span> </span><span id="local-6989586621679171334"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171334"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171334"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`unsafeShiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span id="local-6989586621679171413"><span id="local-6989586621679171414"><span class="annot"><a href="Codec.Picture.Saving.html#from16toFloat"><span class="hs-identifier hs-type">from16toFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171414"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>
</span><span id="line-71"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171413"><span class="hs-identifier hs-type">dest</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171414"><span class="hs-identifier hs-type">source</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679171413"><span class="hs-identifier hs-type">dest</span></a></span></span></span><span>
</span><span id="line-73"></span><span id="from16toFloat"><span class="annot"><span class="annottext">from16toFloat :: Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16toFloat"><span class="hs-identifier hs-var hs-var">from16toFloat</span></a></span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">imageWidth :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageWidth"><span class="hs-identifier hs-var">imageWidth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171332"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171332"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageHeight :: forall a. Image a -&gt; Int
</span><a href="Codec.Picture.Types.html#imageHeight"><span class="hs-identifier hs-var">imageHeight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171331"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171331"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-74"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">imageData :: forall a. Image a -&gt; Vector (PixelBaseComponent a)
</span><a href="Codec.Picture.Types.html#imageData"><span class="hs-identifier hs-var">imageData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679171330"><span class="annot"><span class="annottext">Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171330"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Vector (PixelBaseComponent dest) -&gt; Image dest
forall a. Int -&gt; Int -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171332"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171331"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Float
Vector (PixelBaseComponent dest)
</span><a href="#local-6989586621679171329"><span class="hs-identifier hs-var">transformed</span></a></span><span>
</span><span id="line-75"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171329"><span class="annot"><span class="annottext">transformed :: Vector Float
</span><a href="#local-6989586621679171329"><span class="hs-identifier hs-var hs-var">transformed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; Float) -&gt; Vector Word16 -&gt; Vector Float
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">V.map</span></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Float
forall a a. (Fractional a, Integral a) =&gt; a -&gt; a
</span><a href="#local-6989586621679171328"><span class="hs-identifier hs-var">toWord8</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Word16
Vector (PixelBaseComponent source)
</span><a href="#local-6989586621679171330"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-76"></span><span>         </span><span id="local-6989586621679171328"><span class="annot"><span class="annottext">toWord8 :: a -&gt; a
</span><a href="#local-6989586621679171328"><span class="hs-identifier hs-var hs-var">toWord8</span></a></span></span><span> </span><span id="local-6989586621679171327"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171327"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171327"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">65536.0</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- as RADIANCE, make all color conversion and such. Equivalent</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- of 'decodeImage' for radiance encoding</span><span>
</span><span id="line-81"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-type">imageToRadiance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-82"></span><span id="imageToRadiance"><span class="annot"><span class="annottext">imageToRadiance :: DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var hs-var">imageToRadiance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span> </span><span id="local-6989586621679171324"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171324"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171324"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-84"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171320"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171320"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB16 -&gt; DynamicImage)
-&gt; Image PixelRGB16
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-var">ImageRGB16</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB16 -&gt; ByteString) -&gt; Image PixelRGB16 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB16
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171320"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-86"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171317"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171317"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171317"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-88"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171316"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171316"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBF
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171316"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171313"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171313"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; ByteString
</span><a href="Codec.Picture.HDR.html#encodeHDR"><span class="hs-identifier hs-var">encodeHDR</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171313"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171310"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171310"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; DynamicImage)
-&gt; (Image PixelRGB8 -&gt; Image PixelRGBF)
-&gt; Image PixelRGB8
-&gt; DynamicImage
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBF
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGB8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171310"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-93"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171307"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171307"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171307"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171305"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171305"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image PixelRGBF
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171305"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-97"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171303"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171303"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word8 -&gt; DynamicImage) -&gt; Image Word8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; DynamicImage)
-&gt; (Image Word8 -&gt; Image PixelRGB8) -&gt; Image Word8 -&gt; DynamicImage
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image Word8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171303"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171301"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171301"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Word16 -&gt; PixelRGBF) -&gt; Image Word16 -&gt; Image PixelRGBF
forall a b. (Pixel a, Pixel b) =&gt; (a -&gt; b) -&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier hs-var">pixelMap</span></a></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; PixelRGBF
forall a. Integral a =&gt; a -&gt; PixelRGBF
</span><a href="#local-6989586621679171300"><span class="hs-identifier hs-var">toRgbf</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171301"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171300"><span class="annot"><span class="annottext">toRgbf :: a -&gt; PixelRGBF
</span><a href="#local-6989586621679171300"><span class="hs-identifier hs-var hs-var">toRgbf</span></a></span></span><span> </span><span id="local-6989586621679171299"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171299"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float -&gt; PixelRGBF
</span><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-var">PixelRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171298"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171298"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171298"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-102"></span><span>            </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171298"><span class="annot"><span class="annottext">val :: Float
</span><a href="#local-6989586621679171298"><span class="hs-identifier hs-var hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Float
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171299"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">65536.0</span></span><span>
</span><span id="line-103"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171296"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171296"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; PixelRGBF) -&gt; Image Word32 -&gt; Image PixelRGBF
forall a b. (Pixel a, Pixel b) =&gt; (a -&gt; b) -&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier hs-var">pixelMap</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; PixelRGBF
forall a. Integral a =&gt; a -&gt; PixelRGBF
</span><a href="#local-6989586621679171295"><span class="hs-identifier hs-var">toRgbf</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171296"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171295"><span class="annot"><span class="annottext">toRgbf :: a -&gt; PixelRGBF
</span><a href="#local-6989586621679171295"><span class="hs-identifier hs-var hs-var">toRgbf</span></a></span></span><span> </span><span id="local-6989586621679171294"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171294"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float -&gt; PixelRGBF
</span><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-var">PixelRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171293"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171293"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171293"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-106"></span><span>            </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171293"><span class="annot"><span class="annottext">val :: Float
</span><a href="#local-6989586621679171293"><span class="hs-identifier hs-var hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Float
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171294"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">4294967296.0</span></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171291"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171291"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PixelYA16 -&gt; PixelRGBF) -&gt; Image PixelYA16 -&gt; Image PixelRGBF
forall a b. (Pixel a, Pixel b) =&gt; (a -&gt; b) -&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier hs-var">pixelMap</span></a></span><span> </span><span class="annot"><span class="annottext">PixelYA16 -&gt; PixelRGBF
</span><a href="#local-6989586621679171290"><span class="hs-identifier hs-var">toRgbf</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171291"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171290"><span class="annot"><span class="annottext">toRgbf :: PixelYA16 -&gt; PixelRGBF
</span><a href="#local-6989586621679171290"><span class="hs-identifier hs-var hs-var">toRgbf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA16"><span class="hs-identifier hs-type">PixelYA16</span></a></span><span> </span><span id="local-6989586621679171288"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171288"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float -&gt; PixelRGBF
</span><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-var">PixelRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171287"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171287"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621679171287"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-110"></span><span>            </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171287"><span class="annot"><span class="annottext">val :: Float
</span><a href="#local-6989586621679171287"><span class="hs-identifier hs-var hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Float
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171288"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">65536.0</span></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171286"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171286"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGBF
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Float) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16toFloat"><span class="hs-identifier hs-var">from16toFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171286"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-113"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171284"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171284"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBF -&gt; DynamicImage)
-&gt; Image PixelRGBF
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-var">ImageRGBF</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBF -&gt; ByteString) -&gt; Image PixelRGBF -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PixelRGBA16 -&gt; PixelRGBF) -&gt; Image PixelRGBA16 -&gt; Image PixelRGBF
forall a b. (Pixel a, Pixel b) =&gt; (a -&gt; b) -&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier hs-var">pixelMap</span></a></span><span> </span><span class="annot"><span class="annottext">PixelRGBA16 -&gt; PixelRGBF
</span><a href="#local-6989586621679171283"><span class="hs-identifier hs-var">toRgbf</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171284"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171283"><span class="annot"><span class="annottext">toRgbf :: PixelRGBA16 -&gt; PixelRGBF
</span><a href="#local-6989586621679171283"><span class="hs-identifier hs-var hs-var">toRgbf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA16"><span class="hs-identifier hs-type">PixelRGBA16</span></a></span><span> </span><span id="local-6989586621679171281"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171281"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679171280"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171280"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679171279"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171279"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float -&gt; PixelRGBF
</span><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-var">PixelRGBF</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; Float
forall a a. (Fractional a, Integral a) =&gt; a -&gt; a
</span><a href="#local-6989586621679171278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171281"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; Float
forall a a. (Fractional a, Integral a) =&gt; a -&gt; a
</span><a href="#local-6989586621679171278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171280"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word16 -&gt; Float
forall a a. (Fractional a, Integral a) =&gt; a -&gt; a
</span><a href="#local-6989586621679171278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679171279"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>            </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171278"><span class="annot"><span class="annottext">f :: a -&gt; a
</span><a href="#local-6989586621679171278"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679171277"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171277"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679171277"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">65536.0</span></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- as JPEG, make all color conversion and such. Equivalent</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- of 'decodeImage' for jpeg encoding</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- Save Y or YCbCr Jpeg only, all other colorspaces are converted.</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- To save a RGB or CMYK JPEG file, use the</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- 'Codec.Picture.Jpg.Internal.encodeDirectJpegAtQualityWithMetadata' function</span><span>
</span><span id="line-124"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-type">imageToJpg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-125"></span><span id="imageToJpg"><span class="annot"><span class="annottext">imageToJpg :: Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var hs-var">imageToJpg</span></a></span></span><span> </span><span id="local-6989586621679171276"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span></span><span> </span><span id="local-6989586621679171275"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171275"><span class="hs-identifier hs-var">dynImage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679171274"><span class="annot"><span class="annottext">encodeAtQuality :: Image PixelYCbCr8 -&gt; ByteString
</span><a href="#local-6989586621679171274"><span class="hs-identifier hs-var hs-var">encodeAtQuality</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Image PixelYCbCr8 -&gt; ByteString
</span><a href="Codec.Picture.Jpg.html#encodeJpegAtQuality"><span class="hs-identifier hs-var">encodeJpegAtQuality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>        </span><span id="local-6989586621679171272"><span class="annot"><span class="annottext">encodeWithMeta :: Image Word8 -&gt; ByteString
</span><a href="#local-6989586621679171272"><span class="hs-identifier hs-var hs-var">encodeWithMeta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Metadatas -&gt; Image Word8 -&gt; ByteString
forall px.
JpgEncodable px =&gt;
Word8 -&gt; Metadatas -&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Jpg.html#encodeDirectJpegAtQualityWithMetadata"><span class="hs-identifier hs-var">encodeDirectJpegAtQualityWithMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Metadatas
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171275"><span class="hs-identifier hs-var">dynImage</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-129"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171270"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171270"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; ByteString
</span><a href="#local-6989586621679171274"><span class="hs-identifier hs-var">encodeAtQuality</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171270"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-130"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171269"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171269"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171269"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-131"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171268"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171268"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB16 -&gt; DynamicImage)
-&gt; Image PixelRGB16
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-var">ImageRGB16</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB16 -&gt; ByteString) -&gt; Image PixelRGB16 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB16
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171268"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-132"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171267"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171267"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; ByteString
</span><a href="#local-6989586621679171274"><span class="hs-identifier hs-var">encodeAtQuality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelYCbCr8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171267"><span class="hs-identifier hs-var">img</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171266"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171266"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var">toStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171266"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-134"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171265"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171265"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; ByteString
</span><a href="#local-6989586621679171274"><span class="hs-identifier hs-var">encodeAtQuality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelYCbCr8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; Image PixelYCbCr8)
-&gt; Image PixelRGB8 -&gt; Image PixelYCbCr8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGB8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171265"><span class="hs-identifier hs-var">img</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171264"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171264"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word8 -&gt; DynamicImage) -&gt; Image Word8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var">greyScaleToStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171264"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-136"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171263"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171263"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
</span><a href="#local-6989586621679171272"><span class="hs-identifier hs-var">encodeWithMeta</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171263"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-137"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171262"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171262"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
</span><a href="#local-6989586621679171272"><span class="hs-identifier hs-var">encodeWithMeta</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image Word8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171262"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-138"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171261"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171261"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word8 -&gt; DynamicImage) -&gt; Image Word8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171261"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-139"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171260"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171260"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelYA8 -&gt; DynamicImage) -&gt; Image PixelYA8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-var">ImageYA8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelYA8 -&gt; ByteString) -&gt; Image PixelYA8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelYA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171260"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-140"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171259"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171259"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word8 -&gt; DynamicImage) -&gt; Image Word8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word32 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word32,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to8"><span class="hs-identifier hs-var">from32to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171259"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-141"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171258"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171258"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171258"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-142"></span><span>        </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171257"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171257"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679171276"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBA8 -&gt; DynamicImage)
-&gt; Image PixelRGBA8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-var">ImageRGBA8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBA8 -&gt; ByteString) -&gt; Image PixelRGBA8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171257"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- as PNG, make all color conversion and such. Equivalent</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- of 'decodeImage' for PNG encoding</span><span>
</span><span id="line-147"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-type">imageToPng</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-148"></span><span id="imageToPng"><span class="annot"><span class="annottext">imageToPng :: DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var hs-var">imageToPng</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171256"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171256"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171256"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span> </span><span id="local-6989586621679171254"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171254"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171254"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171253"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171253"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB16
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171253"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB16"><span class="hs-identifier hs-type">PixelRGB16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171252"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171252"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171252"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-152"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171251"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171251"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var">toStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171251"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171250"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171250"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171250"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-154"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171249"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171249"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171249"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171248"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171248"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var">greyScaleToStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171248"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171247"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171247"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171247"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-157"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171246"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171246"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171246"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-158"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171245"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171245"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word16 -&gt; DynamicImage) -&gt; Image Word16 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-var">ImageY16</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word16 -&gt; ByteString) -&gt; Image Word16 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word32 -&gt; Image Word16
forall source dest.
(PixelBaseComponent source ~ Word32,
 PixelBaseComponent dest ~ Word16) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to16"><span class="hs-identifier hs-var">from32to16</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171245"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171244"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171244"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171244"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-160"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171243"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171243"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171243"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-161"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171242"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171242"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; ByteString
forall a. PngSavable a =&gt; Image a -&gt; ByteString
</span><a href="Codec.Picture.Png.Internal.Export.html#encodePng"><span class="hs-identifier hs-var">encodePng</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171242"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- as a Tiff, make all color conversion and such. Equivalent</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- of 'decodeImage' for Tiff encoding</span><span>
</span><span id="line-166"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-type">imageToTiff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-167"></span><span id="imageToTiff"><span class="annot"><span class="annottext">imageToTiff :: DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var hs-var">imageToTiff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171241"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171241"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171241"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-168"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span> </span><span id="local-6989586621679171239"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171239"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171239"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-169"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171238"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171238"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171238"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-170"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171237"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171237"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171237"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-171"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171236"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171236"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var">toStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171236"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-172"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171235"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171235"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171235"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-173"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171234"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171234"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171234"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-174"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171233"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171233"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var">greyScaleToStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171233"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-175"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171232"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171232"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image Word8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171232"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-176"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171231"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171231"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171231"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-177"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171230"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171230"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word32 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171230"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-178"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171229"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171229"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word16 -&gt; ByteString) -&gt; Image Word16 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image Word16
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171229"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171228"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171228"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171228"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-180"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171227"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171227"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; ByteString
forall px. TiffSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier hs-var">encodeTiff</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171227"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- as bitmap, make all color conversion and such. Equivalent</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- of 'decodeImage' for Bitmap encoding</span><span>
</span><span id="line-185"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-type">imageToBitmap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-186"></span><span id="imageToBitmap"><span class="annot"><span class="annottext">imageToBitmap :: DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var hs-var">imageToBitmap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171226"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171226"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171226"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171224"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171224"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171224"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171223"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171223"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB16 -&gt; DynamicImage)
-&gt; Image PixelRGB16
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-var">ImageRGB16</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB16 -&gt; ByteString) -&gt; Image PixelRGB16 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB16
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171223"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-189"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171222"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171222"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var">toStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171222"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-190"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171221"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171221"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171221"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171220"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171220"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171220"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-192"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171219"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171219"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171219"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-193"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171218"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171218"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var">greyScaleToStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171218"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-194"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171217"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171217"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall pixel. BmpEncodable pixel =&gt; Image pixel -&gt; ByteString
</span><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier hs-var">encodeBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171217"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171216"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171216"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word8 -&gt; DynamicImage) -&gt; Image Word8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171216"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171215"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171215"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image Word8 -&gt; DynamicImage) -&gt; Image Word8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word32 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word32,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to8"><span class="hs-identifier hs-var">from32to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171215"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-197"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171214"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171214"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelYA8 -&gt; DynamicImage) -&gt; Image PixelYA8 -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-var">ImageYA8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelYA8 -&gt; ByteString) -&gt; Image PixelYA8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelYA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171214"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171213"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171213"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171213"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-199"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171212"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171212"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; ByteString)
-&gt; (Image PixelRGBA8 -&gt; DynamicImage)
-&gt; Image PixelRGBA8
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-var">ImageRGBA8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBA8 -&gt; ByteString) -&gt; Image PixelRGBA8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171212"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- as a gif, make all color conversion and quantization. Equivalent</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- of 'decodeImage' for gif encoding</span><span>
</span><span id="line-205"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-type">imageToGif</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-206"></span><span id="imageToGif"><span class="annot"><span class="annottext">imageToGif :: DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var hs-var">imageToGif</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171211"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171211"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; Either String ByteString)
-&gt; Image PixelRGB8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171211"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-207"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171210"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171210"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; Either String ByteString)
-&gt; Image PixelRGB8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171210"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-208"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171209"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171209"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGB16 -&gt; DynamicImage)
-&gt; Image PixelRGB16
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-var">ImageRGB16</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB16 -&gt; Either String ByteString)
-&gt; Image PixelRGB16 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB16
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171209"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-209"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171208"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171208"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; Either String ByteString)
-&gt; Image PixelRGB8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var">toStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171208"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-210"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171207"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171207"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; Image PixelRGB8 -&gt; Either String ByteString
</span><a href="Codec.Picture.Gif.html#encodeGifImageWithPalette"><span class="hs-identifier hs-var">encodeGifImageWithPalette</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171205"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171204"><span class="hs-identifier hs-var">pal</span></a></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679171205"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171205"><span class="hs-identifier hs-var">indexed</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679171204"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171204"><span class="hs-identifier hs-var">pal</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PaletteOptions -&gt; Image PixelRGB8 -&gt; (Image Word8, Image PixelRGB8)
</span><a href="Codec.Picture.ColorQuant.html#palettize"><span class="hs-identifier hs-var">palettize</span></a></span><span> </span><span class="annot"><span class="annottext">PaletteOptions
</span><a href="Codec.Picture.ColorQuant.html#defaultPaletteOptions"><span class="hs-identifier hs-var">defaultPaletteOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171207"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-212"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171201"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171201"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; Either String ByteString)
-&gt; Image PixelRGB8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGB8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171201"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-213"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171200"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171200"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ByteString
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String ByteString)
-&gt; ByteString -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
</span><a href="Codec.Picture.Gif.html#encodeGifImage"><span class="hs-identifier hs-var">encodeGifImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171200"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-214"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171198"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171198"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image Word8 -&gt; DynamicImage)
-&gt; Image Word8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; Either String ByteString)
-&gt; Image Word8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var">greyScaleToStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171198"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-215"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171197"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171197"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image Word8 -&gt; DynamicImage)
-&gt; Image Word8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; Either String ByteString)
-&gt; Image Word8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image Word8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171197"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-216"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171196"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171196"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image Word8 -&gt; DynamicImage)
-&gt; Image Word8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; Either String ByteString)
-&gt; Image Word8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word16 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171196"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-217"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171195"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171195"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image Word8 -&gt; DynamicImage)
-&gt; Image Word8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-var">ImageY8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; Either String ByteString)
-&gt; Image Word8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Word32 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word32,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to8"><span class="hs-identifier hs-var">from32to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171195"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-218"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171194"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171194"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelYA8 -&gt; DynamicImage)
-&gt; Image PixelYA8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-var">ImageYA8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelYA8 -&gt; Either String ByteString)
-&gt; Image PixelYA8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelYA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171194"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-219"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171193"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171193"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGB8 -&gt; DynamicImage)
-&gt; Image PixelRGB8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-var">ImageRGB8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; Either String ByteString)
-&gt; Image PixelRGB8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171193"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171192"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171192"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">(DynamicImage -&gt; Either String ByteString)
-&gt; (Image PixelRGBA8 -&gt; DynamicImage)
-&gt; Image PixelRGBA8
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-var">ImageRGBA8</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGBA8 -&gt; Either String ByteString)
-&gt; Image PixelRGBA8 -&gt; Either String ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171192"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-comment">-- | This function will try to do anything to encode an image</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- as a tga, make all color conversion and quantization. Equivalent</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- of 'decodeImage' for tga encoding</span><span>
</span><span id="line-225"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-type">imageToTga</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-226"></span><span id="imageToTga"><span class="annot"><span class="annottext">imageToTga :: DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var hs-var">imageToTga</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171191"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171191"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171191"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171189"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171189"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171189"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171188"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171188"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171188"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171187"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171187"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; ByteString) -&gt; Image PixelRGB8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="Codec.Picture.Saving.html#toStandardDef"><span class="hs-identifier hs-var">toStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171187"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-230"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171186"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171186"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171186"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-231"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171185"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171185"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171185"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-232"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171184"><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171184"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word8
</span><a href="#local-6989586621679171184"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-233"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171183"><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171183"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="annot"><span class="annottext">(Image Word8 -&gt; ByteString) -&gt; Image Word8 -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Image Float -&gt; Image Word8
</span><a href="Codec.Picture.Saving.html#greyScaleToStandardDef"><span class="hs-identifier hs-var">greyScaleToStandardDef</span></a></span><span> </span><span class="annot"><span class="annottext">Image Float
</span><a href="#local-6989586621679171183"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-234"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171182"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171182"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171182"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171181"><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171181"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Word16 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word16
</span><a href="#local-6989586621679171181"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171180"><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171180"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Word8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Word32 -&gt; Image Word8
forall source dest.
(PixelBaseComponent source ~ Word32,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from32to8"><span class="hs-identifier hs-var">from32to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image Word32
</span><a href="#local-6989586621679171180"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171179"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171179"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelRGBA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171179"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171178"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171178"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171178"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span class="annot"><a href="Codec.Picture.Saving.html#imageToTga"><span class="hs-identifier hs-var">imageToTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171177"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171177"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; ByteString
forall px. TgaSaveable px =&gt; Image px -&gt; ByteString
</span><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier hs-var">encodeTga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall source dest.
(PixelBaseComponent source ~ Word16,
 PixelBaseComponent dest ~ Word8) =&gt;
Image source -&gt; Image dest
</span><a href="Codec.Picture.Saving.html#from16to8"><span class="hs-identifier hs-var">from16to8</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171177"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span></pre></body></html>